# CyberEDU Backend

Backend —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π REST API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω—ã
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è)
- **–†–∞–±–æ—Ç–∞ —Å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏** –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π** –∑–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ML —Å–µ—Ä–≤–∏—Å–æ–º** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–≤–µ—Ç–æ–≤
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API** —á–µ—Ä–µ–∑ Swagger
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** —Å Docker

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Java 21** + Spring Boot 3
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JWT** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Docker** + Docker Compose - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Maven** - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **Spring Security** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **OpenFeign** - HTTP –∫–ª–∏–µ–Ω—Ç
- **ModelMapper** - –º–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker & Docker Compose
- Java 21 (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- Maven 3.9+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <your-repo-url>
cd cyberedu-backend
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
docker-compose up -d
```

3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5456
2. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
mvn clean package
java -jar target/*.jar
```

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS —á–µ—Ä–µ–∑ Cloudflare Tunnel

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ cloudflared

**Windows (—á–µ—Ä–µ–∑ Chocolatey):**
```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ cloudflared
choco install cloudflared
```

**Linux (Ubuntu/Debian):**
```bash
# –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ cloudflared
wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb
sudo dpkg -i cloudflared-linux-amd64.deb
```

**MacOS:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ Homebrew
brew install cloudflared
```

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ HTTPS

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥ –≤ Docker

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º
cd cyberedu-backend

# –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose build
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–æ
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ (–¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ Spring Boot)
docker-compose logs cyberedu-backend
```

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
curl http://localhost:8080/api/v1/auth/test
```
**–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ—Ç–≤–µ—Ç:** `"test"`

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Cloudflare Tunnel

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è –±—ç–∫–µ–Ω–¥–∞
cloudflared tunnel --url http://localhost:8080
```

**–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –≤—ã–≤–æ–¥:**
```
2024-01-15T12:00:00Z INF |  https://invitation-plot-jesus-buffalo.trycloudflare.com
2024-01-15T12:00:00Z INF |  +-----------------------------------------------------------+
2024-01-15T12:00:00Z INF |  |  Your free tunnel is now running!                        |
2024-01-15T12:00:00Z INF |  +-----------------------------------------------------------+
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL!** –ù–∞–ø—Ä–∏–º–µ—Ä: `https://invitation-plot-jesus-buffalo.trycloudflare.com`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–ù–∞–π–¥–∏—Ç–µ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª API –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–æ–µ–∫—Ç–µ:**

**–û–±—ã—á–Ω–æ —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤:**
- `src/config/api.js`
- `src/config/constants.js`
- `src/services/api.js`
- `.env` –∏–ª–∏ `.env.development`
- `src/environments/environment.ts` (–¥–ª—è Angular)

**–ü—Ä–∏–º–µ—Ä –¥–ª—è React/Vue:**
```javascript
// src/config/api.js
export const API_BASE_URL = 'https://invitation-plot-jesus-buffalo.trycloudflare.com/api/v1';
```

**–ò–ª–∏ –≤ .env —Ñ–∞–π–ª–µ:**
```env
REACT_APP_API_URL=https://invitation-plot-jesus-buffalo.trycloudflare.com/api/v1
VUE_APP_API_URL=https://invitation-plot-jesus-buffalo.trycloudflare.com/api/v1
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—ç–∫–µ–Ω–¥ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å:**
```bash
curl https://invitation-plot-jesus-buffalo.trycloudflare.com/api/v1/auth/test
```
**–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ—Ç–≤–µ—Ç:** `"test"`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://invitation-plot-jesus-buffalo.trycloudflare.com/swagger-ui.html`

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
curl -X POST https://invitation-plot-jesus-buffalo.trycloudflare.com/api/v1/auth/sign-up \
  -H "Content-Type: application/json" \
  -d '{"userId": 12345, "username": "testuser", "age": 25}'
```

## üìã –í—Å–µ API Endpoints CyberEDU Backend

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/v1/auth`)

### `POST /api/v1/auth/sign-up`
**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```json
{
  "userId": 12345,
  "username": "ivan",
  "age": 25
}
```
**–û—Ç–≤–µ—Ç:** JWT —Ç–æ–∫–µ–Ω—ã (access + refresh)

### `POST /api/v1/auth/sign-in`
**–í—Ö–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```json
{
  "userId": 12345
}
```
**–û—Ç–≤–µ—Ç:** JWT —Ç–æ–∫–µ–Ω—ã

### `POST /api/v1/auth/refresh-access-token`
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞**
```json
{
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```
**–û—Ç–≤–µ—Ç:** –ù–æ–≤—ã–µ JWT —Ç–æ–∫–µ–Ω—ã

### `GET /api/v1/auth/test`
**–¢–µ—Å—Ç–æ–≤—ã–π endpoint**
**–û—Ç–≤–µ—Ç:** "test"

## üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`/api/v1/users`)

### `GET /api/v1/users/{userId}`
**–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```json
{
  "userId": 12345,
  "userName": "ivan",
  "age": 25,
  "mode": "ADULT",
  "experience": 50,
  "role": "USER",
  "createdAt": "2024-01-15T10:30:00"
}
```

### `PATCH /api/v1/users/{userId}`
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```json
{
  "username": "new_username",
  "age": 26,
  "mode": "CHILD"
}
```

## üìö –°—Ü–µ–Ω–∞—Ä–∏–∏ (`/api/v1/scenarios`)

### `GET /api/v1/scenarios`
**–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤**
```json
[
  {
    "scenarioId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "title": "–§–∏—à–∏–Ω–≥–æ–≤–∞—è –∞—Ç–∞–∫–∞",
    "scenarioType": {
      "typeId": "b2c3d4e5-f6g7-8901-bcde-f23456789012",
      "title": "–§–∏—à–∏–Ω–≥"
    }
  }
]
```

### `GET /api/v1/scenarios/type/{typeId}`
**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø–æ —Ç–∏–ø—É**

### `GET /api/v1/scenarios/{scenarioId}`
**–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è**
```json
{
  "scenarioId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "title": "–§–∏—à–∏–Ω–≥–æ–≤–∞—è –∞—Ç–∞–∫–∞",
  "text": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è...",
  "scam": true,
  "scenarioType": {
    "typeId": "b2c3d4e5-f6g7-8901-bcde-f23456789012",
    "title": "–§–∏—à–∏–Ω–≥"
  }
}
```

### `POST /api/v1/scenarios/{scenarioId}/explain`
**–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è (–±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞)**
**–û—Ç–≤–µ—Ç:** 
```json
{
  "response": "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ç ML –º–æ–¥–µ–ª–∏..."
}
```

### `POST /api/v1/scenarios/{scenarioId}/feedback`
**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∏–¥–±–µ–∫–∞ –ø–æ –æ—Ç–≤–µ—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```json
{
  "prompt": "–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏–π"
}
```
**–û—Ç–≤–µ—Ç:**
```json
{
  "response": "–ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞ –æ—Ç ML –º–æ–¥–µ–ª–∏..."
}
```

### `POST /api/v1/scenarios/generate/{typeId}`
**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è**
**–û—Ç–≤–µ—Ç:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ ScenarioPageResponseDTO

### `GET /api/v1/scenarios/health`
**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ML —Å–µ—Ä–≤–∏—Å–∞**
```json
{
  "status": "healthy"
}
```

### `POST /api/v1/scenarios/{scenarioId}/finish/{userId}`
**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞**
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `answer` (boolean) - –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `userId` (path) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `scenarioId` (path) - ID —Å—Ü–µ–Ω–∞—Ä–∏—è

**–û—Ç–≤–µ—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–æ–≤—ã–º –æ–ø—ã—Ç–æ–º

## üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (`/api/v1/achievements`)

### `GET /api/v1/achievements/{userId}`
**–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```json
[
  {
    "achievementId": "c3d4e5f6-g7h8-9012-cdef-345678901234",
    "name": "–ù–æ–≤–∏—á–æ–∫",
    "description": "–ü–æ–ª—É—á–∏—Ç–µ 10 –æ–ø—ã—Ç–∞",
    "icon": "üéØ",
    "requiredExp": 10,
    "type": "EXPERIENCE",
    "earnedAt": "2024-01-15T11:30:00"
  }
]
```

### `GET /api/v1/achievements/{userId}/give-experience-achievements`
**–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∑–∞ –æ–ø—ã—Ç**
**–û—Ç–≤–µ—Ç:** `true` - –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—ã–ª–∏ –≤—ã–¥–∞–Ω—ã

## üõ° –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞

### PUBLIC Endpoints (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏):
```
/api/v1/auth/sign-up
/api/v1/auth/sign-in
/api/v1/auth/refresh-access-token
/api/v1/auth/test
/v3/api-docs/**
/swagger-ui/**
/swagger-ui.html
/swagger-resources/**
```

### AUTHENTICATED Endpoints (—Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω):
–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ endpoints

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã:

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
curl -X POST https://your-tunnel-url.trycloudflare.com/api/v1/auth/sign-up \
  -H "Content-Type: application/json" \
  -d '{"userId": 12345, "username": "ivan", "age": 25}'
```

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:**
```bash
curl -X GET https://your-tunnel-url.trycloudflare.com/api/v1/scenarios \
  -H "Authorization: Bearer {access-token}"
```

3. **–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è:**
```bash
# –ü–æ–ª—É—á–∏—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ
curl -X POST https://your-tunnel-url.trycloudflare.com/api/v1/scenarios/{scenarioId}/explain \
  -H "Authorization: Bearer {access-token}"

# –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
curl -X POST "https://your-tunnel-url.trycloudflare.com/api/v1/scenarios/{scenarioId}/finish/12345?answer=true" \
  -H "Authorization: Bearer {access-token}"
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `SERVER_PORT` - –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8080)
- `JWT_SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- `SPRING_DATASOURCE_URL` - URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `SPRING_DATASOURCE_USERNAME` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î
- `SPRING_DATASOURCE_PASSWORD` - –ø–∞—Ä–æ–ª—å –ë–î

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å–∞–º:
- Swagger UI: `https://your-tunnel-url.trycloudflare.com/swagger-ui/index.html#/`
- OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: `https://your-tunnel-url.trycloudflare.com/v3/api-docs`

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Cloudflare Tunnel –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ**, –ø–æ–∫–∞ –≤–∞–º –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –±—ç–∫–µ–Ω–¥—É –∏–∑–≤–Ω–µ
2. **–ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ tunnel URL –∏–∑–º–µ–Ω–∏—Ç—Å—è** - –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
3. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–æ–º–µ–Ω —á–µ—Ä–µ–∑ Cloudflare Dashboard
4. **–ü–æ—Ä—Ç 8080** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–≤–æ–±–æ–¥–µ–Ω –∏ –±—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º tunnel

## üêõ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–∏—à—É—Ç—Å—è –≤ stdout –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã —á–µ—Ä–µ–∑:
```bash
docker-compose logs cyberedu-backend
```

–õ–æ–≥–∏ Cloudflare Tunnel –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `cloudflared`

–¢–µ–ø–µ—Ä—å –≤–∞—à –±—ç–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º –¥–æ–º–µ–Ω–æ–º –æ—Ç Cloudflare!